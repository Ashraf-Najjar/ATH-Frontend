<table mat-table [dataSource]="dataSource" >
    <ng-container *ngFor="let column of config; trackBy: trackByFn">
      <ng-container [matColumnDef]="column.key">
        <th mat-header-cell *matHeaderCellDef sticky> {{column.label}} </th>
        <ng-container *ngIf="column.key !== 'actions'; else actionsTemplate">
          <td mat-cell *matCellDef="let element"> {{element[column.key + '___value'] }} </td>
        </ng-container>
        <ng-template #actionsTemplate>
          <td mat-cell *matCellDef="let element">
            <ng-container *ngFor="let action of column.actions">
              <mat-icon 
                (click)="action.handler(element)" 
                [matTooltip]="action.label"
                [fontSet]="'material-icons-outlined'" 
                [ngStyle]="{'color': action.color ?? '#495464'}"
              > 
                {{action.icon}} 
              </mat-icon>
            </ng-container>
          </td>
        </ng-template>
      </ng-container>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns" sticky></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
